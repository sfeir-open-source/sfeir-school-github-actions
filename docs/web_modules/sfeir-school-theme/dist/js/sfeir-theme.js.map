{"version":3,"file":"sfeir-theme.js","sources":["../../../../node_modules/sfeir-school-theme/dist/js/sfeir-theme.js"],"sourcesContent":["\nclass SfeirTheme {\n\tconstructor(){\n\t\tdocument.addEventListener('DOMContentLoaded', () => setTimeout(this._pageload.bind(this), 500));\n\t\tthis.path = \"\";\n\t}\n\n\t_pageload(){\n\t\tthis.path = this._extractPath();\n\n\t\t// FavIcon\n\t\tthis._manageFavIcon();\n\n\t\t// ManageBackground\n\t\tthis._manageBackgrounds();\n\n\t\t// ManageShowContent\n\t\tthis._manageShowTypeContent();\n\n\t\t// ManageSpecificsColumnsSlides\n\t\tthis._manageSpecificsColumnsSlides();\n\t\t\n\t\tif (Reveal){\n\t\t\tReveal.sync();\n\t\t}\n\t\t\n\n\t}\n\t_extractPath(){\n\t\tconst scripts = document.getElementsByTagName(\"script\");\n\n\t\tfor(let idx = 0; idx < scripts.length; idx++)\n\t\t{\n\t\t  const script = scripts.item(idx);\n\n\t\t  if(script.src && script.src.match(/sfeir-theme\\.js$/))\n\t\t  {\n\t\t\tconst path = script.src;\n\t\t\treturn path.substring(0, path.indexOf('js/sfeir-theme'));\n\t\t  }\n\t\t}\n\t  return \"\";\n\t};\n\n\t_manageFavIcon(){\n\t\tconst resolutions = [\n\t\t\t'16x16',\n\t\t\t'32x32',\n\t\t\t'96x96']\n\t\tfor (let resolution of resolutions){\n\t\t\tconst link = document.createElement('link');\n\t\t\tlink.type = 'image/x-icon';\n\t\t\tlink.rel = 'shortcut icon';\n\t\t\tlink.sizes= resolution;\n\t\t\tlink.href = `${this.path}images/favicon-${resolution}.png`;\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\n\t\t}\n\t\tconst link = document.createElement('link');\n\t\tlink.type = 'image/x-icon';\n\t\tlink.rel = 'shortcut icon';\n\t\tlink.href = `${this.path}images/favicon.ico`;\n\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\n\n\t}\n\n\t_manageBackgrounds(){\n\n\t\tconst map = {\n\t\t\t'first-slide': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'transition': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'school-presentation': `${this.path}images/bg-school.png`,\n\t\t\t'speaker-slide': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'sfeir-slide': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'bg-white': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'bg-pink': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'bg-blue': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'bg-green': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'sfeir-bg-axololt': `${this.path}images/bg-grey-axololt.png`,\n\t\t\t'transition-bg-grey-1': `${this.path}images/bg-grey-1.png`,\n\t\t\t'transition-bg-grey-2': `${this.path}images/bg-grey-2.png`,\n\t\t\t'transition-bg-grey-3': `${this.path}images/bg-grey-3.jpg`,\n\t\t\t'transition-bg-grey-4': `${this.path}images/bg-grey-4.jpg`,\n\t\t\t'transition-bg-grey-5': `${this.path}images/bg-grey-5.jpg`,\n\t\t\t'transition-bg-grey-6': `${this.path}images/bg-grey-6.jpg`,\n\t\t\t'transition-bg-grey-7': `${this.path}images/bg-grey-7.jpg`,\n\t\t};\n\n\t\tfor (let key in map){\n\t\t\tconst queryElementList = document.querySelectorAll('.reveal .slides section:not([data-background]).'+key);\n\n\t\t\tfor (let i = 0; i < queryElementList.length; i++){\n\t\t\t\tconst element = queryElementList[i];\n\t\t\t\telement.classList.add('sfeir-specific-slide');\t\t\t\n\t\t\t\telement.setAttribute('data-background',map[key]);\n\t\t\t}\n\t\t}\n\n\t\t// Add default background for slides \n\t\tconst genericsSlides = [...document.querySelectorAll('.reveal .slides section:not([data-background]):not(.sfeir-specific-slide):not(.no-background):not(.with-code-dark):not([class*=transition])')];\n\t\tfor (let genericSlide of genericsSlides){\n\t\t\tgenericSlide.classList.add('sfeir-basic-slide');\n\t\t}\n\n\t\tthis._manageFirstSlide();\n\t}\n\n\t_manageFirstSlide(){\n\t\tconst firstSlides = [...document.querySelectorAll('.reveal .slides section.first-slide')];\n\t\tfor (let firstSlideSection of firstSlides){\n\t\t\tconst imgLogo = document.createElement('DIV');\n\t\t\timgLogo.classList.add(\"sfeir-logo\");\n\t\t\timgLogo.style['background-image'] = `url(${this.path}images/logo_empty.png)`;\n\n\t\t\tconst level = firstSlideSection.hasAttribute('sfeir-level') ? +firstSlideSection.getAttribute('sfeir-level') : 1;\n\t\t\tconst techno = firstSlideSection.hasAttribute('sfeir-techno') ? firstSlideSection.getAttribute('sfeir-techno') : '';\n\t\t\timgLogo.setAttribute('data-sfeir-level', level);\n\t\t\timgLogo.setAttribute('data-sfeir-techno', techno);\n\n\t\t\tfirstSlideSection.insertAdjacentElement('afterbegin', imgLogo);\n\n\t\t}\n\t}\n\n\t_manageShowTypeContent(){\n\n\t\tconst showTypeContent = document.querySelector('.reveal .slides').getAttribute('data-type-show');\n\t\tif (showTypeContent){\n\t\t\tconst showTypeSlides = document.querySelectorAll('.reveal .slides section[data-type-show]');\n\t\t\tfor (let i = 0; i < showTypeSlides.length; i++){\n\t\t\t\tconst tmpSlide = showTypeSlides[i];\n\t\t\t\tif (tmpSlide.getAttribute('data-type-show') != showTypeContent){\n\t\t\t\t\ttmpSlide.parentNode.removeChild(tmpSlide);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_manageSpecificsColumnsSlides(){\n\n\t\tconst twoColSlides = [...document.querySelectorAll('.reveal .slides section.two-column-layout')];\n\t\tfor (let twoColSection of twoColSlides){\n\t\t\tconst parentSection = twoColSection.parentElement;\n\t\t\tparentSection.classList.add('two-column-layout');\n\t\t\t// Need to overrides reveal inlinestyles\n\t\t\tparentSection.style.display='grid';\n\t\t\tif (parentSection.nodeName === 'SECTION'){\n\t\t\t\tconst subSections = [...parentSection.querySelectorAll('section')];\n\t\t\t\tfor(let subSection of subSections){\n\t\t\t\t\tsubSection.classList.remove('two-column-layout');\n\t\t\t\t\tsubSection.style.display='block';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (Reveal){\n\t\t\t// Need to overrides reveal inlinestyles\n\t\t\tReveal.addEventListener('slidechanged', (event)=> {\n\t\t\t\tconsole.log(event);\n\t\t\t\tconst currentSlide = event.currentSlide;\n\t\t\t\tconst parentSlide = currentSlide.parentElement;\n\t\t\t\t// Have to rewrite block due to override of reveal\n\t\t\t\tif (parentSlide.nodeName === 'SECTION' \n\t\t\t\t&& parentSlide.classList.contains('two-column-layout')){\n\t\t\t\t\tconst state = Reveal.getState();\n\t\t\t\t\tstate.indexv = 2;\n\t\t\t\t\tReveal.setState(state);\n\t\t\t\t\tparentSlide.style.display='grid';\n\n\t\t\t\t\t// Have to rewrite block due to bug \n\t\t\t\t\tconst subSections = [...parentSlide.querySelectorAll('section')];\n\t\t\t\t\tsubSections[0].style.display='block';\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n}\n\n\nnew SfeirTheme();\n"],"names":["[object Object]","document","addEventListener","setTimeout","this","_pageload","bind","path","_extractPath","_manageFavIcon","_manageBackgrounds","_manageShowTypeContent","_manageSpecificsColumnsSlides","Reveal","sync","scripts","getElementsByTagName","idx","length","script","item","src","match","substring","indexOf","resolutions","resolution","link","createElement","type","rel","sizes","href","appendChild","map","first-slide","transition","school-presentation","speaker-slide","sfeir-slide","bg-white","bg-pink","bg-blue","bg-green","sfeir-bg-axololt","transition-bg-grey-1","transition-bg-grey-2","transition-bg-grey-3","transition-bg-grey-4","transition-bg-grey-5","transition-bg-grey-6","transition-bg-grey-7","key","queryElementList","querySelectorAll","i","element","classList","add","setAttribute","genericsSlides","genericSlide","_manageFirstSlide","firstSlides","firstSlideSection","imgLogo","style","level","hasAttribute","getAttribute","techno","insertAdjacentElement","showTypeContent","querySelector","showTypeSlides","tmpSlide","parentNode","removeChild","twoColSlides","twoColSection","parentSection","parentElement","display","nodeName","subSections","subSection","remove","event","console","log","parentSlide","currentSlide","contains","state","getState","indexv","setState"],"mappings":"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"}